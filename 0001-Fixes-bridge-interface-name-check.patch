From 0e47ea85dcc926fa6e3e44bf11f91d1da88111fc Mon Sep 17 00:00:00 2001
From: Ivan Chavero <ichavero@redhat.com>
Date: Mon, 16 Jun 2014 13:01:25 -0600
Subject: [PATCH] Fixes bridge interface name check

Fixes name check for interface names that contain:
"-", ":", "@", "."
---
 lib/puppet/type/vs_bridge.rb | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/puppet/type/vs_bridge.rb b/lib/puppet/type/vs_bridge.rb
index c5a5e7c..13bfd19 100644
--- a/lib/puppet/type/vs_bridge.rb
+++ b/lib/puppet/type/vs_bridge.rb
@@ -22,7 +22,7 @@ Puppet::Type.newtype(:vs_bridge) do
       if !value.is_a?(String)
         raise ArgumentError, "Invalid external_ids #{value}. Requires a String, not a #{value.class}"
       end
-      if value !~ /^(?>[a-zA-Z]\w*=\w*){1}(?>[,][a-zA-Z]\w*=\w*)*$/
+      if value !~ /^(?>[a-zA-Z][\w\-\.]*=[\w\-\.:@]*){1}(?>[,][a-zA-Z][\w\-\.]*=[\w\-\.:@]*)*$/
         raise ArgumentError, "Invalid external_ids #{value}. Must a list of key1=value2,key2=value2"
       end
     end
-- 
1.9.3

